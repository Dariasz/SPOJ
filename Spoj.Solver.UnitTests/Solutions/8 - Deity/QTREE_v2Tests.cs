using Microsoft.VisualStudio.TestTools.UnitTesting;
using System;
using System.Collections.Generic;
using System.Linq;

namespace Spoj.Solver.UnitTests.Solutions._8___Deity
{
    [TestClass]
    public sealed class QTREE_v2Tests : SolutionTestsBase
    {
        public override string SolutionSource => Solver.Solutions.QTREE_v2;

        public override IReadOnlyList<string> TestInputs => new[]
        {
@"3

3
1 2 1
2 3 2
QUERY 1 2
CHANGE 1 3
QUERY 1 2
DONE

3
1 2 1
2 3 2
QUERY 1 2
CHANGE 1 3
QUERY 1 2
DONE

61
2 1 763889
3 2 894806
4 3 508407
5 3 480886
6 3 535001
7 2 753147
8 5 160690
9 7 550461
10 7 373184
11 7 191322
12 5 254789
13 9 282034
14 8 100285
15 11 15761
16 9 986221
17 16 237760
18 5 295329
19 5 512934
20 7 430608
21 11 482009
22 8 271297
23 16 14617
24 17 347146
25 22 573705
26 6 835446
27 25 687746
28 20 792843
29 19 581705
30 25 990968
31 15 606963
32 5 615784
33 18 276352
34 23 493638
35 9 747551
36 2 299456
37 27 922557
38 4 497418
39 25 519089
40 24 534954
41 33 597596
42 24 857819
43 13 493338
44 25 771472
45 6 92845
46 1 672506
47 7 288682
48 28 577232
49 41 232104
50 22 870669
51 6 27818
52 18 241917
53 22 773579
54 32 920250
55 7 616601
56 1 385460
57 53 374659
58 38 15889
59 16 926643
60 38 943037
61 39 582502
CHANGE 57 871183
CHANGE 48 952567
QUERY 25 18
QUERY 40 15
QUERY 57 17
CHANGE 32 92308
QUERY 51 3
QUERY 60 22
QUERY 48 33
QUERY 14 55
CHANGE 13 968226
QUERY 47 41
QUERY 50 6
CHANGE 21 190871
QUERY 40 40
CHANGE 42 482156
QUERY 5 16
CHANGE 58 527811
CHANGE 23 622315
CHANGE 39 176206
QUERY 2 28
QUERY 17 13
CHANGE 43 791614
QUERY 56 34
QUERY 10 14
QUERY 41 54
CHANGE 2 862155
CHANGE 37 871013
QUERY 52 20
QUERY 2 54
CHANGE 4 288184
CHANGE 12 541708
CHANGE 5 95882
QUERY 8 9
QUERY 31 19
CHANGE 11 961305
QUERY 60 57
CHANGE 40 283474
CHANGE 4 994153
CHANGE 54 658634
CHANGE 29 525849
QUERY 50 10
CHANGE 40 521556
QUERY 50 49
CHANGE 46 288896
CHANGE 14 407786
CHANGE 6 549283
CHANGE 13 531042
QUERY 43 17
CHANGE 9 802850
QUERY 14 5
QUERY 24 56
CHANGE 30 769424
QUERY 22 34
CHANGE 32 99019
QUERY 10 19
CHANGE 22 291009
CHANGE 17 992662
CHANGE 26 278285
CHANGE 39 585734
CHANGE 5 814103
CHANGE 31 767929
CHANGE 16 505271
QUERY 48 35
QUERY 61 41
QUERY 34 50
CHANGE 46 241153
QUERY 16 20
CHANGE 26 654767
CHANGE 48 22297
QUERY 38 39
CHANGE 12 574703
CHANGE 29 333098
CHANGE 49 800085
CHANGE 21 653417
QUERY 9 4
CHANGE 9 924402
QUERY 7 18
CHANGE 14 869896
CHANGE 38 99355
CHANGE 46 757645
CHANGE 29 768888
CHANGE 13 174356
QUERY 25 43
QUERY 38 21
QUERY 31 29
QUERY 13 28
CHANGE 20 803194
QUERY 2 57
CHANGE 32 715137
CHANGE 39 572054
CHANGE 38 372283
QUERY 42 53
CHANGE 57 226192
QUERY 21 55
QUERY 25 25
QUERY 32 39
CHANGE 50 934665
CHANGE 6 818557
QUERY 8 30
DONE"
        };

        public override IReadOnlyList<string> TestOutputs => new[]
        {
@"1
3
1
3
573705
986221
986221
535001
943037
894806
894806
894806
870669
0
986221
792843
986221
986221
968226
920250
862155
920250
862155
862155
943037
994153
952567
986221
531042
986221
994153
994153
792843
992662
994153
986221
994153
862155
994153
994153
871013
994153
792843
994153
994153
803194
0
767929
768888
"
        // For performance reasons FastIO new lines are \n instead of \r\n.
        }.Select(o => o.Replace(Environment.NewLine, "\n")).ToArray();

        [TestMethod]
        public void QTREE_v2() => TestSolution();
    }
}
